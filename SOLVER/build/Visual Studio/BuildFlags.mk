.SILENT:

VERSION=beta36

USE_DEBUG=0
USE_MPI=0

!IF $(USE_DEBUG)==1
CPPFLAGS=/W4 /DWIN32 /D_CRT_SECURE_NO_WARNINGS /DVERSION=$(VERSION) /DMEMORY_USAGE
CXXFLAGS=/nologo /GS- /EHsc /GR- /openmp /GL /Od /Zi
LDFLAGS=/nologo /SUBSYSTEM:CONSOLE /ltcg /INCREMENTAL:NO /DEBUG
!ELSE
CPPFLAGS=/W4 /DWIN32 /D_CRT_SECURE_NO_WARNINGS /DVERSION=$(VERSION) /DNDEBUG /DMEMORY_USAGE
CXXFLAGS=/nologo /GS- /EHsc /GR- /openmp /GL /O2 /Ob2 /Oi /Ot /Oy /GT /GF
LDFLAGS=/nologo /SUBSYSTEM:CONSOLE /ltcg /INCREMENTAL:NO /RELEASE
!ENDIF

!IF $(USE_MPI)==1
MPI_PATH=C:\Applications\MPICH2.64bits
MPI_INCLUDE=/I"$(MPI_PATH)\include"
MPI_LIBS="$(MPI_PATH)\lib\mpi.lib"
!ENDIF

CXX=cl.exe
AR=lib.exe
LINK=link.exe
